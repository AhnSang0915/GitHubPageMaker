---
layout: post
current: post
cover:  assets/built/images/python-logo.png
navigation: True
title: Python - Python 2차원 리스트 사용하기
date: 2022-04-10 17:35 +0900
tags: [python]
class: post-template
subclass: 'post tag-python'
author: AhnSang0915
---

{% include python-table-of-contents.html %}

# 2차원 리스트 사용하기
<br>
<br>
---

## 1. 2차원 리스트 사용하기
<br>
<br>
평면 구조의 2차원 리스트 만드는 법을 알아보자. 2차원 리스트는 가로X세로 형태로 이루어져 있으며 행 열 모두 0부터 시작한다.

<br>
<br>

### 2차원 리스트를 만들고 요소에 접근하기
<br>
<br>
평면 구조의 2차원 리스트 만드는 법을 알아보자. 2차원 리스트는 가로X세로 형태로 이루어져 있으며 행 열 모두 0부터 시작한다.

~~~python

a = [[10, 20], [30, 40], [50, 60]]
a
[[10, 20], [30, 40], [50, 60]]

~~~

가로 2 세로 3의 2차원리스트가 만들어졌다. 리스트 입력시 알아보기 쉽게 아래 처럼 입력할 수도 있다.

~~~python

a = [[10, 20],
     [30, 40],
     [50, 60] ]

~~~

### 2차원 리스트의 요소에 접근하기
<br>
<br>
2차원 리스트의 요소에 접근하거나 값을 할당할 때는 리스트 뒤에 []를 두번 사용하며 []안에 세로 인덱스와 가로 인덱스를 지정해주면 된다.

- 리스트[세로인덱스][가로인덱스]
- 리스트[세로인덱스][가로인덱스]


~~~python

a = [[10, 20], [30, 40], [50, 60]]
a[0] [0]            # 세로 인덱스 0, 가로 인덱스 0인 요소 출력
10
a[1][1]           # 세로 인덱스 1, 가로 인덱스 1인 요소 출력
40
a[2][1]           # 세로 인덱스 2, 가로 인덱스 0인 요소 출력
60
a[0][1] = 1000    # 세로 인덱스 0, 가로 인덱스 1인 요소에 값 할당
a[0][1]
1000

~~~

### 2차원 튜플
<br>
<br>

다음과 같이 튜플 안에 튜플을 넣는 방식, 튜플 안에 리스트를 넣는 방식, 리스트 안에 튜플을 넣는 방식 등이 가능하다. 튜플은 내용을 변경할 수 없으므로 a는 안쪽과 바깥쪽 모두 요소를 변경할 수 없다. b는 안쪽 리스트만 요소를 변경할 수 있고, c는 바깥쪽 리스트만 요소를 변경할 수 있다.

- 튜플 = ((값, 값), (값, 값), (값, 값))
- 튜플 = ([값, 값], [값, 값], [값, 값])
- 리스트 = [(값, 값), (값, 값), (값, 값)]

~~~python

a = ((10, 20), (30, 40), (50, 60))    # 튜플 안에 튜플을 넣은 2차원 튜플
b = ([10, 20], [30, 40], [50, 60])    # 튜플 안에 리스트를 넣음
c = [(10, 20), (30, 40), (50, 60)]    # 리스트 안에 튜플을 넣음


a[0][0] = 500        # 안쪽 튜플은 변경할 수 없음. TypeError 발생
a[0] = (500, 600)    # 바깥쪽 튜플은 변경할 수 없음. TypeError 발생
b[0][0] = 500        # 안쪽 리스트는 변경할 수 있음
b[0] = (500, 600)    # 바깥쪽 튜플은 변경할 수 없음. TypeError 발생
c[0][0] = 500        # 안쪽 튜플은 변경할 수 없음. TypeError 발생
c[0] = (500, 600)    # 바깥쪽 리스트는 변경할 수 있음

~~~

### 사람이 알아보기 쉽게 출력하기
<br>
<br>
2차원 리스트의 사각형 구조를 유지하도록 출력하려면 pprint 모듈의 pprint함수를 사용한다. indent는 들여쓰기 칸 수, width는 가로 폭이다.

~~~python

from pprint import pprint
pprint(a, indent=4, width=20)
[   [10, 20],
    [30, 40],
    [50, 60]]

~~~

---

## 2. 반복문으로 2차원 리스트의 요소를 모두 출력하기
<br>
<br>
반복문을 사용해 2차원리스트의 요소를 출력하는 방법을 알아보자.
<br>
<br>

### for 반복문을 한 번만 사용하기
<br>
<br>
for반복문을 한번만 사용하는 방식이다. 2차원 리스트에 for을 사용하면 가로 한 줄씩 반복하게 된다. 전체 리스트를 기준으로 보면 안쪽 리스트가 통째로 반복된다. for x, y in a:와 같이 in 앞에 변수를 두 개 지정해 안쪽 리스트에서 요소 두개를 꺼내온다. 당연히 in 앞에 변수의 개수는 2차원 리스트에서 가로 크기(안쪽 리스트의 요소 개수)와 일치해야 하고 특히, for반복문을 한번만 사용하는 방식은 2차원 리스트의 가로 크기가 크지 않을때 유용하다.

~~~python

a = [[10, 20], [30, 40], [50, 60]]
for x, y in a:    # 리스트의 가로 한 줄(안쪽 리스트)에서 요소 두 개를 꺼냄
     print(x, y)

10 20
30 40
50 60

~~~


### for 반복문을 두 번 사용하기
<br>
<br>
이번에는 for반복문을 두 번 사용해서 2차원 리스트의 요소를 출력해보자. 첫번쨰 for문에서 a리스트 안의 요소묶음을 i에 대입하고, 두번째 for문에서 대입한 요소묶음의 값 하나하나를 꺼내 j에 대입한다. 그리고 j의 두 값 사이를 공백으로 처리하여 출려하고 다음 프린트문에서 줄바꿈을 해준다.


~~~python

a = [[10, 20], [30, 40], [50, 60]]
for i in a:
    for j in i:
        print(j,end = ' ')
    print()

    
10 20 
30 40 
50 60 

~~~


### for와 range 사용하기
<br>
<br>
이번에는 for range에 세로 크기와 가로 크기를 지정해 2차원 리스트의 요소를 인덱스로 접근해보자.for range에 세로크기와 가로 크기를 넣르면 인덱스로 사용할 수 있다. 첫번째 for문에서 리스트의 길이는 3으로 세로 열이 3줄이 되고, 두번째 for문에서 리스트 안의 리스트는 길이가2로 인덱스 0,1을 가져올 수 있다. a[i][j] 리스트의 세로 i, 가로 j 인덱스의 값을 출력한다.

~~~python

a = [[10, 20], [30, 40], [50, 60]]
 
for i in range(len(a)):            # 세로 크기 #012
    for j in range(len(a[i])):     # 가로 크기 #01
        print(a[i][j], end=' ')
    print()


#

for i in range(len(a)):            # 세로 크기
    for j in range(len(a[i])):     # 가로 크기

~~~

### while 반복문을 한 번 사용하기
<br>
<br>
이번에는 while 반복문을 사용하여 2차원 리스트의 요소를 출력해보자. len(a)의 값은 3이고 012까지의 수를 i와 비교한다. 리스트에 인덱스를 지정하여 값을 꺼내 올 때는 다음과 같이 변수 두 개를 지정해주면 가로 한 줄 에서 요소 두개를 한꺼번에 가져올 수 있다. 리스트 a의 인덱스 0의값 [10. 20]을 출력하고 나머지 값도 차례로 출력한다.

~~~python

a = [[10, 20], [30, 40], [50, 60]]
 
i = 0
while i < len(a):    # 반복할 때 리스트의 크기 활용(세로 크기)
    x, y = a[i]      # 요소 두 개를 한꺼번에 가져오기
    print(x, y)
    i += 1           # 인덱스를 1 증가시킴

10 20
30 40
50 60

~~~

### while 반복문을 두 번 사용하기
<br>
<br>
while 반복문을 2번 사용할때는 for 문을 두번 사용할때와 비슷하다. i로 세로의 인덱스 값을 불러오고 j 로 가로의 인덱스 값을 불러온다. 

~~~python

a = [[10, 20], [30, 40], [50, 60]]
 
i = 0
while i < len(a):           # 세로 크기
    j = 0
    while j < len(a[i]):    # 가로 크기
        print(a[i][j], end=' ')
        j += 1              # 가로 인덱스를 1 증가시킴
    print()
    i += 1                  # 세로 인덱스를 1 증가시킴

10 20
30 40
50 60

~~~

아래와 같이 두번째 while에서 i를 증가시키게 되면 두번쨰 while문이 도는동안 증가된 i의 값이 출력되기 때문에 주의해야한다. 

~~~python
# 틀린 코드
i = 0
while i < len(a):
    j = 0
    while j < len(a[i]):
        print(a[i][j], end=' ')
        j += 1
        i += 1    # 안쪽 while에서 i를 증가시키면 안 됨. 잘못된 방법
    print()

~~~


---


## 3. 반복문으로 리스트 만들기
<br>
<br>
for 반복문과 append를 활용하여 리스트를 만드는 방법을 알아보자.

### for 반복문으로 1차원 리스트 만들기
<br>
<br>
요소 10개가 일렬로 늘어서 있는 1차원 리스트를 만들어보자. 지금까지 사용했던 일반적인 리스트 이다.
range(10)은 0~9까지의 값을 i에 대입하고 그럴때마다 리스트 a에 요소 0을 추가한다. 총 10개의 0요소를 가진 리스트가 생성된다.

~~~python

a = []    # 빈 리스트 생성
 
for i in range(10):
    a.append(0)    # append로 요소 추가
 
print(a)

~~~

### for 반복문으로 2차원 리스트 만들기
<br>
<br>
for 반복문을 통해 2차원 리스트를 만들어 보자. 빈리스트 a가 밖의 리스트가 되고 안쪽의 line이 행렬을 나타내는 리스트가 된다. 두번째 for 문이 range(3)만큼 반복되어 리스트 a의 요소로 추가된다. 0,0을 총 3번 반복하게 되어 [[0, 0], [0, 0], [0, 0]]이 출력된다.

~~~python

a = []    # 빈 리스트 생성
 
for i in range(3):
    line = []              # 안쪽 리스트로 사용할 빈 리스트 생성
    for j in range(2):
        line.append(0)     # 안쪽 리스트에 0 추가
    a.append(line)         # 전체 리스트에 안쪽 리스트를 추가
 
print(a)

# [[0, 0], [0, 0], [0, 0]]

~~~

### 리스트 표현식으로 2차원 리스트 만들기
<br>
<br>
리스트 표현식을 사용해 2차원 리스트를 만들어 보자. 0 for j in range(2) 로 [0, 0]의 요소를 만들고 for i in range(3) 로 3번 반복하여 리스트에 담아준다.  [[0, 0], [0, 0], [0, 0]]

~~~python

a = [[0 for j in range(2)] for i in range(3)]
a
[[0, 0], [0, 0], [0, 0]]

# 만약 for 반복문을 한 번만 사용하고 싶다면 다음과 같이 식 부분에서 리스트 자체를 곱한다.

a = [[0] * 2 for i in range(3)]
a
[[0, 0], [0, 0], [0, 0]]

~~~


### 톱니형 리스트 만들기
<br>
<br>
가로 크기가 불규칙한 톱니형 리스트를 만들어 보자. 가로 크기를 알고 있다고 가정하고 리스트 a에 톱니형 리스트의 가로 크기를 미리 저장해 놓았다. 이 리스트를 a를 for로 반복하면 가로 크기를 꺼내면서 5번 반복한다. 

~~~python

a = [3, 1, 3, 2, 5]    # 가로 크기를 저장한 리스트
b = []    # 빈 리스트 생성
 
for i in a:      # 가로 크기를 저장한 리스트로 반복
    line = []    # 안쪽 리스트로 사용할 빈 리스트 생성
    for j in range(i):    # 리스트 a에 저장된 가로 크기만큼 반복
        line.append(0)
    b.append(line)        # 리스트 b에 안쪽 리스트를 추가
 
print(b)

#[[0, 0, 0], 
# [0], 
# [0, 0, 0], 
# [0, 0], 
# [0, 0, 0, 0, 0]]

~~~

리스트 표현식을 활용하면 간단하게 만들수 있다. 가로 크기가 들어있는 리스트 [3, 1, 3, 2, 5]에서 꺼낸 숫자만큼 리스트 [0]을 곱해서 톱니형 리스트를 만들었다.

~~~python

a = [[0] * i for i in [3, 1, 3, 2, 5]]
a
[[0, 0, 0], [0], [0, 0, 0], [0, 0], [0, 0, 0, 0, 0]]]

~~~

### sorted로 2차원 리스트 정렬하기
<br>
<br>
2차원 리스트를 정렬할 때는 sorted함수를 사용한다.

- sorted(반복가능한객체, key=정렬함수, reverse=True 또는 False)

sorted의 key에 정렬 함수를 지정하여 안쪽 리스트의 요소를 기준으로 정렬했다. student[1]은 안쪽 리스트의 인덱스 1을 뜻하며 'A', 'B', 'C' 순으로 정렬한다. 마찬가지로 student[2]는 안쪽 리스트의 인덱스 2를 뜻하며 7, 19, 25 순으로 정렬한다

~~~python

students = [
    ['john', 'C', 19],
    ['maria', 'A', 25],
    ['andrew', 'B', 7]
]
 
print(sorted(students, key=lambda student: student[1]))  # 안쪽 리스트의 인덱스 1을 기준으로 정렬
print(sorted(students, key=lambda student: student[2]))  # 안쪽 리스트의 인덱스 2를 기준으로 정렬

# 결과 
[['maria', 'A', 25], ['andrew', 'B', 7], ['john', 'C', 19]]
[['andrew', 'B', 7], ['john', 'C', 19], ['maria', 'A', 25]]

~~~

---

## 4. 2차원 리스트의 할당과 복사 알아보기
<br>
<br>
2차원 리스트의 할당과 복사를 알아보자. 다음과 같이 2차원 리스트를 만든 뒤 다른 변수에 할당하고, 요소를 변경해보면 두 리스트에 모두 반영된다. b[0][0] = 500은 인덱스 세로 0, 가로 0에 500을 할당한다.

~~~python

a = [[10, 20], [30, 40]]
b = a
b[0][0] = 500
a
[[500, 20], [30, 40]]
b
[[500, 20], [30, 40]]

~~~

리스트 a를 copy 메서드로 b에 복사한 뒤 b의 요소를 변경해보면 리스트 a와 b에 모두 반영된다.

~~~python

a = [[10, 20], [30, 40]]
b = a.copy()
b[0][0] = 500
a
[[500, 20], [30, 40]]
b
[[500, 20], [30, 40]]

~~~

2차원 이상의 다차원 리스트는 리스트를 완전히 복사하려면 copy 메서드 대신 copy 모듈의 deepcopy 함수를 사용해야 한다. 이렇게 하면 b의 요소를 변경해도 a리스트에는 영향을 미치지 않는다. copy.deepcopy 함수는 중첩된 리스트(튜플)에 들어있는 모든 리스트(튜플)를 복사하는 깊은 복사(deep copy)를 해준다.

~~~python

a = [[10, 20], [30, 40]]
import copy             # copy 모듈을 가져옴
b = copy.deepcopy(a)    # copy.deepcopy 함수를 사용하여 깊은 복사
b[0][0] = 500
a
[[10, 20], [30, 40]]
b
[[500, 20], [30, 40]]
~~~

### 23.7 심사문제: 지뢰찾기
표준 입력으로 2차원 리스트의 가로(col)와 세로(row)가 입력되고 그 다음 줄부터 리스트의 요소로 들어갈 문자가 입력됩니다. 이때 2차원 리스트 안에서 *는 지뢰이고 .은 지뢰가 아닙니다. 지뢰가 아닌 요소에는 인접한 지뢰의 개수를 출력하는 프로그램을 만드세요(input에서 안내 문자열은 출력하지 않아야 합니다).

여러 줄을 입력 받으려면 다음과 같이 for 반복문에서 input을 호출한 뒤 append로 각 줄을 추가하면 됩니다(list 안에 문자열을 넣으면 문자열이 문자 리스트로 변환됩니다).

~~~python

matrix = []
for i in range(row):
    matrix.append(list(input()))

~~~

입력

~~~python

3 3
.**
*..
.*.

~~~

출력

~~~python

2**
*43
2*1

~~~

입력

~~~python

5 5
..*..
...*.
.*...
.***.
*.*..

~~~

출력

~~~python

01*21
123*1
2*532
3***1
*4*31

~~~

~~~python

col, row = map(int, input().split())

matrix = []
    
for i in range(row):
    matrix.append(list(input()))  # 입력한 값을 리스트로 만들어준다.

for i in range(col): # 0 ~ 2
    for j in range(row): # 0 ~ 2
        if matrix[i][j]=='*': #2차원 리스트의 각 인덱스 값을 *와 비교.
            print('*',end='') #*와 비교해 같으면 *을 출력.
            
        else:
            count=0 # 초기값
            for k in range(i-1,i+2): # 위for문의 i 값을 가져와 대입
                for l in range(j-1,j+2): #  위for문의 j 값을 가져와 대입
                    if k<0 or k>=col or l<0 or l>=row: # 지뢰 찾기 주변 8칸중 첫칸, 끝칸의 주변 값을 확일할때 인덱스 범위를 넘어가면 continue로 다시 반복하게 함.
                        continue
                    elif matrix[k][l]=='*':
                        count+=1 # 값이 * 과일치하면 count의 값을 1씩 더해준다.
            print(count,end='')
    print()

~~~