<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Python - Python 데코레이터 사용하기</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!--    costom.css-->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!--    Font Awsome-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--    웹폰트 추가-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!--    syntax.css-->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />


    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Learn Coding" />
    <link rel="shortcut icon" href="https://AhnSang0915.github.io/assets/built/images/favicon.png" type="image/png" />
    <link rel="canonical" href="https://AhnSang0915.github.io/python-basic40" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="My Coding Practice Gym" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Python - Python 데코레이터 사용하기" />
    <meta property="og:description" content="Python Python 기본 Python 숫자 계산하기 Python 변수 만들기 Python 출력 방법 Python 불과 비교, 논리 연산자 Python 문자열 사용하기 Python 리스트와 튜플 사용하기 Python 시퀀스 자료형 활용하기 Python 딕셔너리 사용하기 Python if 조건문으로 특정 조건일 때 코드 실행하기 Python else를 사용하여 두 방향으로 분기하기 Python elif를 사용하여 두 방향으로" />
    <meta property="og:url" content="https://AhnSang0915.github.io/python-basic40" />
    <meta property="og:image" content="https://AhnSang0915.github.io/assets/built/images/python-logo.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2022-04-23T07:00:00+00:00" />
    <meta property="article:modified_time" content="2022-04-23T07:00:00+00:00" />
    <meta property="article:tag" content="Python" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Python - Python 데코레이터 사용하기" />
    <meta name="twitter:description" content="Python Python 기본 Python 숫자 계산하기 Python 변수 만들기 Python 출력 방법 Python 불과 비교, 논리 연산자 Python 문자열 사용하기 Python 리스트와 튜플 사용하기 Python 시퀀스 자료형 활용하기 Python 딕셔너리 사용하기 Python if 조건문으로 특정 조건일 때 코드 실행하기 Python else를 사용하여 두 방향으로 분기하기 Python elif를 사용하여 두 방향으로" />
    <meta name="twitter:url" content="https://AhnSang0915.github.io/" />
    <meta name="twitter:image" content="https://AhnSang0915.github.io/assets/built/images/python-logo.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="My Coding Practice Gym" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Python" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "My Coding Practice Gym",
        "logo": "https://AhnSang0915.github.io/"
    },
    "url": "https://AhnSang0915.github.io/python-basic40",
    "image": {
        "@type": "ImageObject",
        "url": "https://AhnSang0915.github.io/assets/built/images/python-logo.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://AhnSang0915.github.io/python-basic40"
    },
    "description": "Python Python 기본 Python 숫자 계산하기 Python 변수 만들기 Python 출력 방법 Python 불과 비교, 논리 연산자 Python 문자열 사용하기 Python 리스트와 튜플 사용하기 Python 시퀀스 자료형 활용하기 Python 딕셔너리 사용하기 Python if 조건문으로 특정 조건일 때 코드 실행하기 Python else를 사용하여 두 방향으로 분기하기 Python elif를 사용하여 두 방향으로"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Python - Python 데코레이터 사용하기" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://AhnSang0915.github.io/">My Coding Practice Gym</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-javascript" role="menuitem"><a href="/tag/javascript/">Javascript</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/python/">Python</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-python post tag-python ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="23 April 2022">23 April 2022</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/python/'>PYTHON</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Python - Python 데코레이터 사용하기</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/python-logo.png)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><span class="table-of-contents-list">Python</span></p>
<ul class="table-of-contents-list">
    <li><a href="./python-basic">Python 기본</a></li>
    <li><a href="./python-basic2">Python 숫자 계산하기</a></li>
    <li><a href="./python-basic3">Python 변수 만들기</a></li>
    <li><a href="./python-basic4">Python 출력 방법</a></li>
    <li><a href="./python-basic5">Python 불과 비교, 논리 연산자</a></li>
    <li><a href="./python-basic6">Python 문자열 사용하기</a></li>
    <li><a href="./python-basic7">Python 리스트와 튜플 사용하기</a></li>
    <li><a href="./python-basic8">Python 시퀀스 자료형 활용하기</a></li>
    <li><a href="./python-basic9">Python 딕셔너리 사용하기</a></li>
    <li><a href="./python-basic10">Python if 조건문으로 특정 조건일 때 코드 실행하기</a></li>
    <li><a href="./python-basic11">Python else를 사용하여 두 방향으로 분기하기</a></li>
    <li><a href="./python-basic12">Python elif를 사용하여 두 방향으로 분기하기</a></li>
    <li><a href="./python-basic13">Python for 반복문</a></li>
    <li><a href="./python-basic14">Python while 반복문</a></li>
    <li><a href="./python-basic15">Python break, continue로 반복문 제어하기</a></li>
    <li><a href="./python-basic16">Python 중첩루프</a></li>
    <li><a href="./python-basic17">Python FizzBuzz 문제</a></li>
    <li><a href="./python-basic18">Python 터틀 그래픽스로 그림 그리기</a></li>
    <li><a href="./python-basic19">Python 리스트와 튜플 응용하기</a></li>
    <li><a href="./python-basic20">Python 리스트와 튜플 응용하기 - 2</a></li>
    <li><a href="./python-basic21">Python 2차원 리스트 사용하기</a></li>
    <li><a href="./python-basic22">Python 문자열 응용하기</a></li>
    <li><a href="./python-basic23">Python 딕셔너리 응용하기</a></li>
    <li><a href="./python-basic24">Python 세트 사용하기</a></li>
    <li><a href="./python-basic25">Python 파일 사용하기</a></li>
    <li><a href="./python-basic26">Python 회문 판별과 N-gram 만들기</a></li>
    <li><a href="./python-basic27">Python 함수 사용하기</a></li>
    <li><a href="./python-basic28">Python 함수에서 위치 인수와 키워드 인수 사용하기</a></li>
    <li><a href="./python-basic29">Python 함수에서 재귀호출 사용하기</a></li>
    <li><a href="./python-basic30">Python 람다 표현식 사용하기</a></li>
    <li><a href="./python-basic31">Python 클로저 사용하기</a></li>
    <li><a href="./python-basic32">Python 클래스 사용하기</a></li>
    <li><a href="./python-basic33">Python 클래스 속성과 정적, 클래스 메서드 사용하기</a></li>
    <li><a href="./python-basic34">Python 클래스 상속 사용하기</a></li>
    <li><a href="./python-basic35">Python 두 점 사이의 거리 구하기</a></li>
    <li><a href="./python-basic36">Python 예외 처리 사용하기</a></li>
    <li><a href="./python-basic37">Python 이터레이터 사용하기</a></li>
    <li><a href="./python-basic38">Python 제너레이터 사용하기</a></li>
    <li><a href="./python-basic39">Python 코루틴 사용하기</a></li>
    <li><a href="./python-basic40">Python 데코레이터 사용하기</a></li>
    <li><a href="./python-basic41">Python 정규표현식 사용하기</a></li>
    <li><a href="./python-basic42">Python 모듈과 패키지 사용하기</a></li>
    <li><a href="./python-basic43">Python 모듈과 패키지 만들기</a></li>


</ul>

<h1 id="데코레이터-사용하기">데코레이터 사용하기</h1>

<p><br />
<br />
파이썬은 데코레이터(decorator)라는 기능을 제공한다. 장식하는 도구 정도로 생각하면 되고 전에 배운 내용중 클래스에서 메서드를 만들 때 @staticmethod, @classmethod, @abstractmethod 등을 붙여 사용했는데 이렇게 @로 시작하는 것들이 데코레이터 이다. 데이코레이터는 장식자 라고도 부른다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">Calc</span><span class="p">:</span>
    <span class="o">@</span><span class="nb">staticmethod</span>    <span class="c1"># 데코레이터
</span>    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>

</code></pre></div></div>

<hr />

<h2 id="1데코레이터-만들기">1.데코레이터 만들기</h2>
<p><br />
<br />
데코레이터는 함수를 수정하지 않은 상태에서 추가 기능을 구현할 때 사용한다. 예를 들어서 함수의 시작과 끝을 출력하고 싶다면 다음과 같이 함수 시작, 끝 부분에 print를 넣어준다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'hello 함수 시작'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'hello'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'hello 함수 끝'</span><span class="p">)</span>
 
<span class="k">def</span> <span class="nf">world</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'world 함수 시작'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'world'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'world 함수 끝'</span><span class="p">)</span>
 
<span class="n">hello</span><span class="p">()</span>
<span class="n">world</span><span class="p">()</span>


<span class="c1"># 실행 결과
</span><span class="n">hello</span> <span class="n">함수</span> <span class="n">시작</span>
<span class="n">hello</span>
<span class="n">hello</span> <span class="n">함수</span> <span class="n">끝</span>
<span class="n">world</span> <span class="n">함수</span> <span class="n">시작</span>
<span class="n">world</span>
<span class="n">world</span> <span class="n">함수</span> <span class="n">끝</span>

</code></pre></div></div>

<p>위 코드에서 다른 함수도 시작과 끝을 출력하고 싶다면 함수를 만들 때마다 print를 넣어야 한다. 따라서 함수가 많아지면 번거롭기 때문에 이런 경우는 데코레이터를 활용한다. 다음은 함수 시작과 끝을 출력하는 데코레이터이다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>                             <span class="c1"># 호출할 함수를 매개변수로 받음
</span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>                           <span class="c1"># 호출할 함수를 감싸는 함수
</span>        <span class="k">print</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="s">'함수 시작'</span><span class="p">)</span>    <span class="c1"># __name__으로 함수 이름 출력
</span>        <span class="n">func</span><span class="p">()</span>                               <span class="c1"># 매개변수로 받은 함수를 호출
</span>        <span class="k">print</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="s">'함수 끝'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>                           <span class="c1"># wrapper 함수 반환
</span> 
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'hello'</span><span class="p">)</span>
 
<span class="k">def</span> <span class="nf">world</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'world'</span><span class="p">)</span>
 
<span class="n">trace_hello</span> <span class="o">=</span> <span class="n">trace</span><span class="p">(</span><span class="n">hello</span><span class="p">)</span>    <span class="c1"># 데코레이터에 호출할 함수를 넣음
</span><span class="n">trace_hello</span><span class="p">()</span>                 <span class="c1"># 반환된 함수를 호출
</span><span class="n">trace_world</span> <span class="o">=</span> <span class="n">trace</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>    <span class="c1"># 데코레이터에 호출할 함수를 넣음
</span><span class="n">trace_world</span><span class="p">()</span>                 <span class="c1"># 반환된 함수를 호출
</span>

<span class="c1"># 실행 결과
</span><span class="n">hello</span> <span class="n">함수</span> <span class="n">시작</span>
<span class="n">hello</span>
<span class="n">hello</span> <span class="n">함수</span> <span class="n">끝</span>
<span class="n">world</span> <span class="n">함수</span> <span class="n">시작</span>
<span class="n">world</span>
<span class="n">world</span> <span class="n">함수</span> <span class="n">끝</span>

</code></pre></div></div>

<p>먼저 데코레이터 trace는 호출할 함수를 매개변수로 받는다. trace함수 안에서는 호출할 함수를 감싸는 함수 wrapper를 만든다. 이제 wrapper함수 에서는 함수의 시작을 알리는 문자열을 출력하고, trace에서 매개변수로 받은 func를 호출한다. 그다음에 함수의 끝을 알리는 문자열을 출력한다. 여기서 매개변수로 받은 함수의 원래 이름을 출력할 때는 __name__ 속성을 활용한다. 마지막으로 wrapper 함수를 다 만들었으면 return을 사용하여 wrapper 함수 자체를 반환한다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>                             <span class="c1"># 호출할 함수를 매개변수로 받음
</span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>                           <span class="c1"># 호출할 함수를 감싸는 함수
</span>        <span class="k">print</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="s">'함수 시작'</span><span class="p">)</span>    <span class="c1"># __name__으로 함수 이름 출력
</span>        <span class="n">func</span><span class="p">()</span>                               <span class="c1"># 매개변수로 받은 함수를 호출
</span>        <span class="k">print</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="s">'함수 끝'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>                           <span class="c1"># wrapper 함수 반환
</span>
</code></pre></div></div>

<p>즉, 함수 안에서 함수를 만들고 반환하는 클로저 이다.</p>

<p>데코레이터를 사용할 때는 trace에 호출할 함수 hello또는 world를 넣는다. 그다음에 데코레이터에서 반환된 함수를 호출한다. 이렇게 하면 데코레이터에 인수로 넣은 함수를 호출하고 시작과 끝을 출력한다.</p>

<h3 id="로-데코레이터-사용하기">@로 데코레이터 사용하기</h3>
<p><br />
<br />
이제 @을 사용하여 좀 더 간편하게 데코레이터를 사용해보자. 다음과 같이 호출할 함수 위에 @데코레이터 형식으로 지정한다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">데코레이터</span>
<span class="k">def</span> <span class="nf">함수이름</span><span class="p">():</span>
    <span class="n">코드</span>

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>                             <span class="c1"># 호출할 함수를 매개변수로 받음
</span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="s">'함수 시작'</span><span class="p">)</span>    <span class="c1"># __name__으로 함수 이름 출력
</span>        <span class="n">func</span><span class="p">()</span>                               <span class="c1"># 매개변수로 받은 함수를 호출
</span>        <span class="k">print</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="s">'함수 끝'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>                           <span class="c1"># wrapper 함수 반환
</span> 
<span class="o">@</span><span class="n">trace</span>    <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'hello'</span><span class="p">)</span>
 
<span class="o">@</span><span class="n">trace</span>    <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">world</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'world'</span><span class="p">)</span>
 
<span class="n">hello</span><span class="p">()</span>    <span class="c1"># 함수를 그대로 호출
</span><span class="n">world</span><span class="p">()</span>    <span class="c1"># 함수를 그대로 호출
</span>
<span class="c1"># 실행 결과
</span><span class="n">hello</span> <span class="n">함수</span> <span class="n">시작</span>
<span class="n">hello</span>
<span class="n">hello</span> <span class="n">함수</span> <span class="n">끝</span>
<span class="n">world</span> <span class="n">함수</span> <span class="n">시작</span>
<span class="n">world</span>
<span class="n">world</span> <span class="n">함수</span> <span class="n">끝</span>

</code></pre></div></div>

<p>hello와 world함수 위에 @trace를 붙인 뒤에 hello 와 world함수를 그대로 호출하면 끝이다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">trace</span>    <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'hello'</span><span class="p">)</span>
 
<span class="o">@</span><span class="n">trace</span>    <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">world</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'world'</span><span class="p">)</span>
 
<span class="n">hello</span><span class="p">()</span>    <span class="c1"># 함수를 그대로 호출
</span><span class="n">world</span><span class="p">()</span>    <span class="c1"># 함수를 그대로 호출
</span>
</code></pre></div></div>

<h3 id="데코레이터를-여러-개-지정하기">데코레이터를 여러 개 지정하기</h3>
<p><br />
<br />
함수에는 데코레이터를 여러 개 지정할 수 있다. 다음과 같이 함수 위에 데코레이터를 여러 줄로 지정해준다. 이때 데코레이터가 실행되는 순서는 위에서 아래 순서.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">데코레이터1</span>
<span class="o">@</span><span class="n">데코레이터2</span>
<span class="k">def</span> <span class="nf">함수이름</span><span class="p">():</span>
    <span class="n">코드</span>

<span class="k">def</span> <span class="nf">decorator1</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'decorator1'</span><span class="p">)</span>
        <span class="n">func</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">wrapper</span>
 
<span class="k">def</span> <span class="nf">decorator2</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'decorator2'</span><span class="p">)</span>
        <span class="n">func</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">wrapper</span>
 
<span class="c1"># 데코레이터를 여러 개 지정
</span><span class="o">@</span><span class="n">decorator1</span>
<span class="o">@</span><span class="n">decorator2</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'hello'</span><span class="p">)</span>
 
<span class="n">hello</span><span class="p">()</span>

<span class="c1"># 실행 결과
</span><span class="n">decorator1</span>
<span class="n">decorator2</span>
<span class="n">hello</span>

</code></pre></div></div>

<p>–</p>

<h2 id="2매개변수와-반환값을-처리하는-데코레이터-만들기">2.매개변수와 반환값을 처리하는 데코레이터 만들기</h2>
<p><br />
<br />
지금까지 매개변수와 반환값이 없는 함수의 데코레이터를 만들었다. 이번에는 매개변수와 반환값을 처리하는 데코레이터 만드는 방법에 대해 알아보자. 다음은 함수의 매개변수와 반환값을 출력하는 데코레이터다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>          <span class="c1"># 호출할 함수를 매개변수로 받음
</span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>    <span class="c1"># 호출할 함수 add(a, b)의 매개변수와 똑같이 지정
</span>        <span class="n">r</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>    <span class="c1"># func에 매개변수 a, b를 넣어서 호출하고 반환값을 변수에 저장
</span>        <span class="k">print</span><span class="p">(</span><span class="s">'{0}(a={1}, b={2}) -&gt; {3}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>  <span class="c1"># 매개변수와 반환값 출력
</span>        <span class="k">return</span> <span class="n">r</span>          <span class="c1"># func의 반환값을 반환
</span>    <span class="k">return</span> <span class="n">wrapper</span>        <span class="c1"># wrapper 함수 반환
</span> 
<span class="o">@</span><span class="n">trace</span>              <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>      <span class="c1"># 매개변수는 두 개
</span>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>    <span class="c1"># 매개변수 두 개를 더해서 반환
</span> 
<span class="k">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>

<span class="c1"># 실행 결과
</span><span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">30</span>
<span class="mi">30</span>

</code></pre></div></div>

<p>add 함수를 호출했을 때 데코레이터를 통해서 매개변수와 반환값이 출력되었다. 매개변수와 반환값을 처리하는 데코레이터를 만들때는 먼저 안쪽 wrapper함수의 개개변수를 호출할 함수 add(a, b)의 매개변수와 똑같이 만들어준다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>          <span class="c1"># 호출할 함수를 매개변수로 받음
</span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>    <span class="c1"># 호출할 함수 add(a, b)의 매개변수와 똑같이 지정
</span>
</code></pre></div></div>

<p>wrapper 함수 안에서는 func를 호출하고 반환값을 변수에 저장한다. 그다음에 print로 매개변수와 반환값을 출력한다. 이때 func에는 매개변수 a와 b를 그대로 넣어준다. 또한, add 함수는 두 수를 더해서 반환해야 하므로 func의 반환값을 return으로 반환해준다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>          <span class="c1"># 호출할 함수를 매개변수로 받음
</span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>    <span class="c1"># 호출할 함수 add(a, b)의 매개변수와 똑같이 지정
</span>        <span class="n">r</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>    <span class="c1"># func에 매개변수 a, b를 넣어서 호출하고 반환값을 변수에 저장
</span>        <span class="k">print</span><span class="p">(</span><span class="s">'{0}(a={1}, b={2}) -&gt; {3}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>    <span class="c1"># 매개변수와 반환값 출력
</span>        <span class="k">return</span> <span class="n">r</span>          <span class="c1"># func의 반환값을 반환
</span>    <span class="k">return</span> <span class="n">wrapper</span>        <span class="c1"># wrapper 함수 반환
</span>
</code></pre></div></div>

<p>만약 wrapper 함수에서 func의 반환값을 반환하지 않으면 add 함수를 호출해도 반환값이 나오지 않으므로 주의해야 한다. 참고로 wrapper 함수에서 func의 반환값을 출력할 필요가 없으면 return func(a, b)처럼 func를 호출하면서 바로 반환해도 된다.</p>

<p>데코레이터를 사용할 때는 @로 함수 위에 지정해주면 된다. 또한, @로 데코레이터를 사용했으므로 add 함수는 그대로 호출해준다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">trace</span>              <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>      <span class="c1"># 매개변수는 두 개
</span>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>    <span class="c1"># 매개변수 두 개를 더해서 반환
</span>
</code></pre></div></div>

<h3 id="가변-인수-함수-데코레이터">가변 인수 함수 데코레이터</h3>
<p><br />
<br />
def add(a, b):는 매개변수의 개수가 고정된 함수다. 그러면 매개변수(인수)가 고정되지 않은 함수는 어떻게 처리할까? 이때는 wrapper 함수를 가변 인수 함수로 만들면 된다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>                     <span class="c1"># 호출할 함수를 매개변수로 받음
</span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>    <span class="c1"># 가변 인수 함수로 만듦
</span>        <span class="n">r</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>    <span class="c1"># func에 args, kwargs를 언패킹하여 넣어줌
</span>        <span class="k">print</span><span class="p">(</span><span class="s">'{0}(args={1}, kwargs={2}) -&gt; {3}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
                                     <span class="c1"># 매개변수와 반환값 출력
</span>        <span class="k">return</span> <span class="n">r</span>                     <span class="c1"># func의 반환값을 반환
</span>    <span class="k">return</span> <span class="n">wrapper</span>                   <span class="c1"># wrapper 함수 반환
</span> 
<span class="o">@</span><span class="n">trace</span>                   <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">get_max</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>      <span class="c1"># 위치 인수를 사용하는 가변 인수 함수
</span>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
 
<span class="o">@</span><span class="n">trace</span>                   <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">get_min</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>   <span class="c1"># 키워드 인수를 사용하는 가변 인수 함수
</span>    <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">kwargs</span><span class="p">.</span><span class="n">values</span><span class="p">())</span>
 
<span class="k">print</span><span class="p">(</span><span class="n">get_max</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">get_min</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">30</span><span class="p">))</span>

<span class="c1"># 실행 결과
</span><span class="n">get_max</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{})</span> <span class="o">-&gt;</span> <span class="mi">20</span>
<span class="mi">20</span>
<span class="n">get_min</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">(),</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s">'y'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s">'z'</span><span class="p">:</span> <span class="mi">30</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="mi">10</span>
<span class="mi">10</span>

</code></pre></div></div>

<p>get_max 함수와 get_min 함수는 가변 인수 함수다. 따라서 데코레이터도 가변 인수 함수로 만들어준다. 이때 위치 인수와 키워드 인수를 모두 받을 수 있도록 *args와 **kwargs를 지정해준다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>                     <span class="c1"># 호출할 함수를 매개변수로 받음
</span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>    <span class="c1"># 가변 인수 함수로 만듦
</span>        <span class="n">r</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>    <span class="c1"># func에 args, kwargs를 언패킹하여 넣어줌
</span>        <span class="k">print</span><span class="p">(</span><span class="s">'{0}(args={1}, kwargs={2}) -&gt; {3}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
                                     <span class="c1"># 매개변수와 반환값 출력
</span>        <span class="k">return</span> <span class="n">r</span>                     <span class="c1"># func의 반환값을 반환
</span>    <span class="k">return</span> <span class="n">wrapper</span>                   <span class="c1"># wrapper 함수 반환
</span>
</code></pre></div></div>

<p>이렇게 만든 데코레이터 trace는 위치 인수와 키워드 인수를 모두 처리할 수 있다. 따라서 가변 인수 함수뿐만 아니라 일반적인 함수에도 사용할 수 있다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">trace</span>
 <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="n">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">add</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{})</span> <span class="o">-&gt;</span> <span class="mi">30</span>
<span class="mi">30</span>

</code></pre></div></div>

<h3 id="메서드에-데코레이터-사용하기">메서드에 데코레이터 사용하기</h3>
<p><br />
<br />
클래스를 만들면서 메서드에 데코레이터를 사용할 때는 self를 주의해야 한다. 인스턴스 메서드는 항상 self를 받으므로 데코레이터를 만들 때도 wrapper 함수의 첫 번째 매개변수는 self로 지정해야 한다(클래스 메서드는 cls). 마찬가지로 func를 호출할 때도 self와 매개변수를 그대로 넣어야 한다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>   <span class="c1"># 호출할 함수가 인스턴스 메서드이므로 첫 번째 매개변수는 self로 지정
</span>        <span class="n">r</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># self와 매개변수를 그대로 넣어줌
</span>        <span class="k">print</span><span class="p">(</span><span class="s">'{0}(a={1}, b={2}) -&gt; {3}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>   <span class="c1"># 매개변수와 반환값 출력
</span>        <span class="k">return</span> <span class="n">r</span>               <span class="c1"># func의 반환값을 반환
</span>    <span class="k">return</span> <span class="n">wrapper</span>
 
<span class="k">class</span> <span class="nc">Calc</span><span class="p">:</span>
    <span class="o">@</span><span class="n">trace</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>    <span class="c1"># add는 인스턴스 메서드
</span>        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
 
<span class="n">c</span> <span class="o">=</span> <span class="n">Calc</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>


<span class="c1"># 실행 결과
</span><span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">30</span>
<span class="mi">30</span>

</code></pre></div></div>

<hr />

<h2 id="3-매개변수가-있는-데코레이터-만들기">3. 매개변수가 있는 데코레이터 만들기</h2>
<p><br />
<br />
매개변수가 있는 데코레이터를 만들어 보자. 이런 방식의 데코레이터는 값을 지정해서 동작을 바꿀 수 있다. 다음은 함수의 반환값이 특정 수의 배수인지 확인하는 데코레이터아다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">is_multiple</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>              <span class="c1"># 데코레이터가 사용할 매개변수를 지정
</span>    <span class="k">def</span> <span class="nf">real_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>    <span class="c1"># 호출할 함수를 매개변수로 받음
</span>        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>       <span class="c1"># 호출할 함수의 매개변수와 똑같이 지정
</span>            <span class="n">r</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>       <span class="c1"># func를 호출하고 반환값을 변수에 저장
</span>            <span class="k">if</span> <span class="n">r</span> <span class="o">%</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>       <span class="c1"># func의 반환값이 x의 배수인지 확인
</span>                <span class="k">print</span><span class="p">(</span><span class="s">'{0}의 반환값은 {1}의 배수입니다.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">'{0}의 반환값은 {1}의 배수가 아닙니다.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">r</span>             <span class="c1"># func의 반환값을 반환
</span>        <span class="k">return</span> <span class="n">wrapper</span>           <span class="c1"># wrapper 함수 반환
</span>    <span class="k">return</span> <span class="n">real_decorator</span>        <span class="c1"># real_decorator 함수 반환
</span> 
<span class="o">@</span><span class="n">is_multiple</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>     <span class="c1"># @데코레이터(인수)
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
 
<span class="k">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># 실행 결과
</span><span class="n">add의</span> <span class="n">반환값은</span> <span class="mi">3</span><span class="n">의</span> <span class="n">배수입니다</span><span class="p">.</span>
<span class="mi">30</span>
<span class="n">add의</span> <span class="n">반환값은</span> <span class="mi">3</span><span class="n">의</span> <span class="n">배수가</span> <span class="n">아닙니다</span><span class="p">.</span>
<span class="mi">7</span>

</code></pre></div></div>

<p>실행을 해보면 add 함수의 반환값이 3의 배수인지 아닌지 알수있다. 지금까지 데코레이터를 만들 때 함수 안에 함수를 하나만 만들었다. 하지만 매개변수가 있는 데코레이터를 만들 때는 함수를 하나 더 만들어야 한다.</p>

<p>먼저 is_multiple 함수를 만들고 데코레이터가 사용할 매개변수 x를 지정하고 is_multiple 함수 안에서 실제 데코레이터 역할을 하는 real_decorator를 만든다. 즉, 이 함수에서 호출할 함수를 매개변수로 받는다. 그다음에 real_decorator 함수 안에서 wrapper 함수를 만들어주면 된다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">is_multiple</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>              <span class="c1"># 데코레이터가 사용할 매개변수를 지정
</span>    <span class="k">def</span> <span class="nf">real_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>    <span class="c1"># 호출할 함수를 매개변수로 받음
</span>        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>       <span class="c1"># 호출할 함수의 매개변수와 똑같이 지정
</span>
</code></pre></div></div>

<p>wrapper함수 안에서는 먼저 func의 결과가 데코레이터 매개변수 x의 배수인지 확인한다. 그다음에 func의 반환값을 반환하게된다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">is_multiple</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>              <span class="c1"># 데코레이터가 사용할 매개변수를 지정
</span>    <span class="k">def</span> <span class="nf">real_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>    <span class="c1"># 호출할 함수를 매개변수로 받음
</span>        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>       <span class="c1"># 호출할 함수의 매개변수와 똑같이 지정
</span>            <span class="n">r</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>       <span class="c1"># func를 호출하고 반환값을 변수에 저장
</span>            <span class="k">if</span> <span class="n">r</span> <span class="o">%</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>       <span class="c1"># func의 반환값이 x의 배수인지 확인
</span>                <span class="k">print</span><span class="p">(</span><span class="s">'{0}의 반환값은 {1}의 배수입니다.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">'{0}의 반환값은 {1}의 배수가 아닙니다.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">r</span>             <span class="c1"># func의 반환값을 반환
</span>
</code></pre></div></div>

<p>여기서는 real_decorator, wrapper 함수를 두 개 만들었으므로 함수를 만든 뒤에 return으로 두 함수를 반환해준다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
        <span class="k">return</span> <span class="n">wrapper</span>           <span class="c1"># wrapper 함수 반환
</span>    <span class="k">return</span> <span class="n">real_decorator</span>        <span class="c1"># real_decorator 함수 반환
</span>
</code></pre></div></div>

<p>데코레이터를 사용할 때는 데코레이터에 ( )(괄호)를 붙인 뒤 인수를 넣어주면 된다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">데코레이터</span><span class="p">(</span><span class="n">인수</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">함수이름</span><span class="p">():</span>
    <span class="n">코드</span>

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">is_multiple</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>     <span class="c1"># @데코레이터(인수)
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

</code></pre></div></div>

<p>여기서는 is_multiple에 3을 지정해서 add 함수의 반환값이 3의 배수인지 확인했다. 물론 is_multiple에 다른 숫자를 넣으면 함수의 반환값이 해당 숫자의 배수인지 확인해준다.</p>

<h3 id="매개변수가-있는-데코레이터를-여러-개-지정하기">매개변수가 있는 데코레이터를 여러 개 지정하기</h3>
<p><br />
<br /></p>

<p>매개변수가 있는 데코레이터를 여러 개 지정할 때는 다음과 같이 인수를 넣은 데코레이터를 여러 줄로 지정해준다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">데코레이터1</span><span class="p">(</span><span class="n">인수</span><span class="p">)</span>
<span class="o">@</span><span class="n">데코레이터2</span><span class="p">(</span><span class="n">인수</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">함수이름</span><span class="p">():</span>
    <span class="n">코드</span>

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">is_multiple</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="o">@</span><span class="n">is_multiple</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
 
<span class="n">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">실행</span> <span class="n">결과</span>
<span class="n">add의</span> <span class="n">반환값은</span> <span class="mi">7</span><span class="n">의</span> <span class="n">배수가</span> <span class="n">아닙니다</span><span class="p">.</span>
<span class="n">wrapper의</span> <span class="n">반환값은</span> <span class="mi">3</span><span class="n">의</span> <span class="n">배수입니다</span><span class="p">.</span>

</code></pre></div></div>

<p>@을 사용하지 않았을 때는 다음 코드와 동작이 같다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">decorated_add</span> <span class="o">=</span> <span class="n">is_multiple</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="n">is_multiple</span><span class="p">(</span><span class="mi">7</span><span class="p">)(</span><span class="n">add</span><span class="p">))</span>
<span class="n">decorated_add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>

</code></pre></div></div>

<h3 id="원래-함수-이름이-안나온다면">원래 함수 이름이 안나온다면?</h3>
<p><br />
<br />
데코레이터를 여러 개 사용하면 데코레이터에서 반환된 wrapper 함수가 다른 데코레이터로 들어간다. 따라서 함수의 __name__을 출력해보면 wrapper가 나온다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">add의</span> <span class="n">반환값은</span> <span class="mi">7</span><span class="n">의</span> <span class="n">배수가</span> <span class="n">아닙니다</span><span class="p">.</span>
<span class="n">wrapper의</span> <span class="n">반환값은</span> <span class="mi">3</span><span class="n">의</span> <span class="n">배수입니다</span><span class="p">.</span>

</code></pre></div></div>

<p>함수의 원래 이름을 출력하고 싶다면 functools 모듈의 wraps 데코레이터를 사용해야 한다. 다음과 같이 @functools.wraps에 func를 넣은 뒤 wrapper 함수 위에 지정해준다(from functools import wraps로 데코레이터를 가져왔다면 @wraps(func)를 지정).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">functools</span>
 
<span class="k">def</span> <span class="nf">is_multiple</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">real_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="o">@</span><span class="n">functools</span><span class="p">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>    <span class="c1"># @functools.wraps에 func를 넣은 뒤 wrapper 함수 위에 지정
</span>        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">r</span> <span class="o">%</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">'{0}의 반환값은 {1}의 배수입니다.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">'{0}의 반환값은 {1}의 배수가 아닙니다.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">r</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">real_decorator</span>
 
<span class="o">@</span><span class="n">is_multiple</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="o">@</span><span class="n">is_multiple</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
 
<span class="n">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>

<span class="c1"># 실행 결과
</span><span class="n">add의</span> <span class="n">반환값은</span> <span class="mi">7</span><span class="n">의</span> <span class="n">배수가</span> <span class="n">아닙니다</span><span class="p">.</span>
<span class="n">add의</span> <span class="n">반환값은</span> <span class="mi">3</span><span class="n">의</span> <span class="n">배수입니다</span><span class="p">.</span>

</code></pre></div></div>

<p>@functools.wraps는 원래 함수의 정보를 유지시켜준다. 따라서 디버깅을 할 때 유용하므로 데코레이터를 만들 때는 @functools.wraps를 사용하는 것이 좋다.</p>

<hr />

<h2 id="4-클래스로-데코레이터-만들기">4. 클래스로 데코레이터 만들기</h2>
<p><br />
<br />
클래스로 데코레이터를 만드는 방법을 알아보자. 특히 클래스를 활용할 때는 인스턴스를 함수처럼 호출하게 해주는 __call__메서드를 구현해야 한다.</p>

<p>다음은 함수의 시작과 끝을 출력하는 데코레이터 이다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">Trace</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>    <span class="c1"># 호출할 함수를 인스턴스의 초깃값으로 받음
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>         <span class="c1"># 호출할 함수를 속성 func에 저장
</span> 
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="s">'함수 시작'</span><span class="p">)</span>    <span class="c1"># __name__으로 함수 이름 출력
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">func</span><span class="p">()</span>                               <span class="c1"># 속성 func에 저장된 함수를 호출
</span>        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="s">'함수 끝'</span><span class="p">)</span>
 
<span class="o">@</span><span class="n">Trace</span>    <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'hello'</span><span class="p">)</span>
 
<span class="n">hello</span><span class="p">()</span>    <span class="c1"># 함수를 그대로 호출
</span>

<span class="c1"># 실행 결과
</span><span class="n">hello</span> <span class="n">함수</span> <span class="n">시작</span>
<span class="n">hello</span>
<span class="n">hello</span> <span class="n">함수</span> <span class="n">끝</span>

</code></pre></div></div>

<p>클래스로 데코레이터를 만들 때는 먼저 __init__ 메서드를 만들고 호출할 함수를 초깃값으로 받는다. 그리고 매개변수로 받은 함수를 속성으로 저장한다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">Trace</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>    <span class="c1"># 호출할 함수를 인스턴스의 초깃값으로 받음
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>         <span class="c1"># 호출할 함수를 속성 func에 저장
</span>
</code></pre></div></div>

<p>이제 인스턴스를 호출할 수 있도록 __call__ 메서드를 만든다. __call__ 메서드에서는 함수의 시작을 알리는 문자열을 출력하고, 속성 func에 저장된 함수를 호출한다. 그다음에 함수의 끝을 알리는 문자열을 출력한다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="s">'함수 시작'</span><span class="p">)</span>    <span class="c1"># __name__으로 함수 이름 출력
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">func</span><span class="p">()</span>                               <span class="c1"># 속성 func에 저장된 함수를 호출
</span>        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="s">'함수 끝'</span><span class="p">)</span>

</code></pre></div></div>

<p>데코레이터를 사용하는 방법은 클로저 형태의 데코레이터와 같다. 호출할 함수 위에 @을 붙이고 데코레이터를 지정하면 된다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">데코레이터</span>
<span class="k">def</span> <span class="nf">함수이름</span><span class="p">():</span>
    <span class="n">코드</span>

</code></pre></div></div>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">Trace</span>    <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'hello'</span><span class="p">)</span>

</code></pre></div></div>

<p>@으로 데코레이터를 지정했으므로 함수는 그대로 호출해줍니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">hello</span><span class="p">()</span>    <span class="c1"># 함수를 그대로 호출
</span>
</code></pre></div></div>

<p>참고로 클래스로 만든 데코레이터는 @을 지정하지 않고, 데코레이터의 반환값을 호출하는 방식으로도 사용할 수 있다. 다음과 같이 데코레이터에 호출할 함수를 넣어서 인스턴스를 생성한 뒤 인스턴스를 호출해주면 된다. 즉, 클래스에 __call__ 메서드를 정의했으므로 함수처럼 ( )(괄호)를 붙여서 호출할 수 있다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>    <span class="c1"># @데코레이터를 지정하지 않음
</span>    <span class="k">print</span><span class="p">(</span><span class="s">'hello'</span><span class="p">)</span>
 
<span class="n">trace_hello</span> <span class="o">=</span> <span class="n">Trace</span><span class="p">(</span><span class="n">hello</span><span class="p">)</span>    <span class="c1"># 데코레이터에 호출할 함수를 넣어서 인스턴스 생성
</span><span class="n">trace_hello</span><span class="p">()</span>                 <span class="c1"># 인스턴스를 호출. __call__ 메서드가 호출됨
</span>
</code></pre></div></div>

<hr />

<h2 id="5-클래스로-매개변수와-반환값을-처리하는-데코레이터-만들기">5. 클래스로 매개변수와 반환값을 처리하는 데코레이터 만들기</h2>
<p><br />
<br />
클래스로 만든 데코레이터도 매개변수와 반환값을 처리할 수 있다. 다음은 함수의 매개변수를 출력하는 데코레이터다(여기서는 위치 인수와 키워드 인수를 모두 처리하는 가변 인수로 만들었다).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">Trace</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>    <span class="c1"># 호출할 함수를 인스턴스의 초깃값으로 받음
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>         <span class="c1"># 호출할 함수를 속성 func에 저장
</span> 
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>    <span class="c1"># 호출할 함수의 매개변수를 처리
</span>        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="c1"># self.func에 매개변수를 넣어서 호출하고 반환값을 변수에 저장
</span>        <span class="k">print</span><span class="p">(</span><span class="s">'{0}(args={1}, kwargs={2}) -&gt; {3}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
                                            <span class="c1"># 매개변수와 반환값 출력
</span>        <span class="k">return</span> <span class="n">r</span>                            <span class="c1"># self.func의 반환값을 반환
</span> 
<span class="o">@</span><span class="n">Trace</span>    <span class="c1"># @데코레이터
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
 
<span class="k">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">20</span><span class="p">))</span>

<span class="c1"># 실행 결과
</span><span class="n">add</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{})</span> <span class="o">-&gt;</span> <span class="mi">30</span>
<span class="mi">30</span>
<span class="n">add</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">(),</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s">'a'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s">'b'</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="mi">30</span>
<span class="mi">30</span>

</code></pre></div></div>

<p>클래스로 매개변수와 반환값을 처리하는 데코레이터를 만들 때는 __call__ 메서드에 매개변수를 지정하고, self.func에 매개변수를 넣어서 호출한 뒤에 반환값을 반환해주면 된다. 여기서는 매개변수를 *args, **kwargs로 지정했으므로 self.func에 넣을 때는 언패킹하여 넣어준다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>    <span class="c1"># 호출할 함수의 매개변수를 처리
</span>        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="c1"># self.func에 매개변수를 넣어서 호출하고 반환값을 변수에 저장
</span>        <span class="k">print</span><span class="p">(</span><span class="s">'{0}(args={1}, kwargs={2}) -&gt; {3}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
                                            <span class="c1"># 매개변수와 반환값 출력
</span>        <span class="k">return</span> <span class="n">r</span>                            <span class="c1"># self.func의 반환값을 반환
</span>
</code></pre></div></div>

<p>물론 가변 인수를 사용하지 않고, 고정된 매개변수를 사용할 때는 def __call__(self, a, b):처럼 만들어도 된다.</p>

<h3 id="클래스로-매개변수가-있는-데코레이터-만들기">클래스로 매개변수가 있는 데코레이터 만들기</h3>
<p><br />
<br />
마지막으로 매개변수가 있는 데코레이터를 만들어보자. 다음은 함수의 반환값이 특정 수의 배수인지 확인하는 데코레이터다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">IsMultiple</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>         <span class="c1"># 데코레이터가 사용할 매개변수를 초깃값으로 받음
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>                 <span class="c1"># 매개변수를 속성 x에 저장
</span> 
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>      <span class="c1"># 호출할 함수를 매개변수로 받음
</span>        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>         <span class="c1"># 호출할 함수의 매개변수와 똑같이 지정(가변 인수로 작성해도 됨)
</span>            <span class="n">r</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>         <span class="c1"># func를 호출하고 반환값을 변수에 저장
</span>            <span class="k">if</span> <span class="n">r</span> <span class="o">%</span> <span class="bp">self</span><span class="p">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>    <span class="c1"># func의 반환값이 self.x의 배수인지 확인
</span>                <span class="k">print</span><span class="p">(</span><span class="s">'{0}의 반환값은 {1}의 배수입니다.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">x</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">'{0}의 반환값은 {1}의 배수가 아닙니다.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">x</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">r</span>               <span class="c1"># func의 반환값을 반환
</span>        <span class="k">return</span> <span class="n">wrapper</span>             <span class="c1"># wrapper 함수 반환
</span> 
<span class="o">@</span><span class="n">IsMultiple</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>    <span class="c1"># 데코레이터(인수)
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
 
<span class="k">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># 실행 결과
</span><span class="n">add의</span> <span class="n">반환값은</span> <span class="mi">3</span><span class="n">의</span> <span class="n">배수입니다</span><span class="p">.</span>
<span class="mi">30</span>
<span class="n">add의</span> <span class="n">반환값은</span> <span class="mi">3</span><span class="n">의</span> <span class="n">배수가</span> <span class="n">아닙니다</span><span class="p">.</span>
<span class="mi">7</span>

</code></pre></div></div>

<p>먼저 __init__ 메서드에서 데코레이터가 사용할 매개변수를 초깃값으로 받습니다. 그리고 매개변수를 __call__ 메서드에서 사용할 수 있도록 속성에 저장합니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>         <span class="c1"># 데코레이터가 사용할 매개변수를 초깃값으로 받음
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>                 <span class="c1"># 매개변수를 속성 x에 저장
</span>
</code></pre></div></div>

<p>지금까지 __init__에서 호출할 함수를 매개변수로 받았는데 여기서는 데코레이터가 사용할 매개변수를 받는다는 점 꼭 기억하자.</p>

<p>이제 __call__ 메서드에서는 호출할 함수를 매개변수로 받는다. 그리고 __call__ 메서드 안에서 wrapper 함수를 만들어준다. 이때 wrapper 함수의 매개변수는 호출할 함수의 매개변수와 똑같이 지정해준다(가변 인수로 작성해도 됨).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>      <span class="c1"># 호출할 함수를 매개변수로 받음
</span>        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>         <span class="c1"># 호출할 함수의 매개변수와 똑같이 지정(가변 인수로 작성해도 됨)
</span>
</code></pre></div></div>

<p>wrapper 함수 안에서는 func의 반환값이 데코레이터 매개변수 x의 배수인지 확인한다. 이때 데코레이터 매개변수 x는 속성에 저장되어 있으므로 self.x와 같이 사용해야 한다. 그리고 배수 확인이 끝났으면 func의 반환값을 반환한다. 마지막으로 wrapper 함수를 다 만들었으면 return으로 wrapper 함수를 반환한다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>      <span class="c1"># 호출할 함수를 매개변수로 받음
</span>        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>         <span class="c1"># 호출할 함수의 매개변수와 똑같이 지정(가변 인수로 작성해도 됨)
</span>            <span class="n">r</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>         <span class="c1"># func를 호출하고 반환값을 변수에 저장
</span>            <span class="k">if</span> <span class="n">r</span> <span class="o">%</span> <span class="bp">self</span><span class="p">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>    <span class="c1"># func의 반환값이 self.x의 배수인지 확인
</span>                <span class="k">print</span><span class="p">(</span><span class="s">'{0}의 반환값은 {1}의 배수입니다.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">x</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">'{0}의 반환값은 {1}의 배수가 아닙니다.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">x</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">r</span>               <span class="c1"># func의 반환값을 반환
</span>        <span class="k">return</span> <span class="n">wrapper</span>             <span class="c1"># wrapper 함수 반환
</span>
</code></pre></div></div>

<p>데코레이터를 사용할 때는 데코레이터에 ( )(괄호)를 붙인 뒤 인수를 넣어주면 됩니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">@</span><span class="n">데코레이터</span><span class="p">(</span><span class="n">인수</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">함수이름</span><span class="p">():</span>
    <span class="n">코드</span>


<span class="o">@</span><span class="n">IsMultiple</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>    <span class="c1"># 데코레이터(인수)
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

</code></pre></div></div>

<hr />

<h3 id="예제1">예제1</h3>
<p><br />
<br />
다음 소스 코드에서 데코레이터 type_check를 작성하세요. type_check는 함수의 매개변수가 지정된 자료형(클래스)이면 함수를 정상적으로 호출하고, 지정된 자료형과 다르면 RuntimeError 예외를 발생시키면서 ‘자료형이 다릅니다.’ 에러 메시지를 출력해야 합니다. 여기서 type_check에 지정된 첫 번째 int는 호출할 함수에서 첫 번째 매개변수의 자료형을 뜻하고, 두 번째 int는 호출할 함수에서 두 번째 매개변수의 자료형을 뜻합니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">_________________________________</span>
<span class="p">...</span>
<span class="n">_________________________________</span>
 
<span class="o">@</span><span class="n">type_check</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
 
<span class="k">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="s">'hello'</span><span class="p">,</span> <span class="s">'world'</span><span class="p">))</span>


<span class="c1"># 실행 결과
</span><span class="mi">30</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"C:\project\practice_decorator.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">16</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="k">print</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="s">'hello'</span><span class="p">,</span> <span class="s">'world'</span><span class="p">))</span>
  <span class="n">File</span> <span class="s">"C:\project\practice_decorator.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">7</span><span class="p">,</span> <span class="ow">in</span> <span class="n">wrapper</span>
    <span class="k">raise</span> <span class="nb">RuntimeError</span><span class="p">(</span><span class="s">'자료형이 올바르지 않습니다.'</span><span class="p">)</span>
<span class="nb">RuntimeError</span><span class="p">:</span> <span class="n">자료형이</span> <span class="n">올바르지</span> <span class="n">않습니다</span><span class="p">.</span>

</code></pre></div></div>

<p>답</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">type_check</span><span class="p">(</span><span class="n">type_a</span><span class="p">,</span> <span class="n">type_b</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">real_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">type_a</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">type_b</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nb">RuntimeError</span><span class="p">(</span><span class="s">'자료형이 올바르지 않습니다.'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">real_decorator</span>

</code></pre></div></div>

<h3 id="예제2">예제2</h3>
<p><br />
<br />
표준 입력으로 HTML 태그 이름 두 개가 입력됩니다. 다음 소스 코드에서 함수의 반환값을 HTML 태그로 감싸는 데코레이터를 만드세요. HTML 태그는 웹 페이지에 사용하는 문법이며 <span>문자열</span>, &lt;p&gt;문자열&lt;/p&gt;처럼 <태그이름>으로 시작하며 </태그이름>으로 끝납니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">________________</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">input</span><span class="p">().</span><span class="n">split</span><span class="p">()</span>
 
<span class="o">@</span><span class="n">html_tag</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="o">@</span><span class="n">html_tag</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">'Hello, world!'</span>
 
<span class="k">print</span><span class="p">(</span><span class="n">hello</span><span class="p">())</span>

<span class="c1"># 입력
</span><span class="n">p</span> <span class="n">span</span>
<span class="c1"># 결과
</span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;</span><span class="n">span</span><span class="o">&gt;</span><span class="n">Hello</span><span class="p">,</span> <span class="n">world</span><span class="err">!</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="c1"># 입력
</span><span class="n">b</span> <span class="n">i</span>
<span class="c1"># 결과
</span><span class="o">&lt;</span><span class="n">b</span><span class="o">&gt;&lt;</span><span class="n">i</span><span class="o">&gt;</span><span class="n">Hello</span><span class="p">,</span> <span class="n">world</span><span class="err">!</span><span class="o">&lt;/</span><span class="n">i</span><span class="o">&gt;&lt;/</span><span class="n">b</span><span class="o">&gt;</span>

</code></pre></div></div>

<p>답</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">html_tag</span><span class="p">(</span><span class="n">tag</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">real_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="s">'&lt;{0}&gt;{1}&lt;/{2}&gt;'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">func</span><span class="p">(),</span> <span class="n">tag</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">real_decorator</span>

</code></pre></div></div>


                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to My Coding Practice Gym</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" 
               id="searchtext" type="text" name="searchtext"  
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                </section>
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="AhnSang0915" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/AhnSang0915">AhnSang0915</a></h4>
                                
                                    <p><a href="https://github.com/AhnSang0915"> 개발 달려</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/AhnSang0915">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'https://AhnSang0915.github.io/python-basic40';
                            var this_page_identifier = '/python-basic40';
                            var this_page_title = 'Python - Python 데코레이터 사용하기';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover1.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; My Coding Practice Gym &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/python/">Python</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/practice-3">Python으로 웹 스크래퍼 만들기-2</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/python-basic43">Python - Python 모듈과 패키지 만들기</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/python-basic42">Python - Python 모듈과 패키지 사용하기</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/python/">
                                
                                    See all 45 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/python-basic41">
                <div class="post-card-image" style="background-image: url(/assets/built/images/python-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/python-basic41">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">Python - Python 정규표현식 사용하기</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>Python Python 기본 Python 숫자 계산하기 Python 변수 만들기 Python 출력 방법 Python 불과 비교, 논리 연산자 Python 문자열 사용하기 Python 리스트와 튜플 사용하기 Python 시퀀스 자료형 활용하기 Python 딕셔너리 사용하기 Python if</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="AhnSang0915" />
                        
                        <span class="post-card-author">
                            <a href="/author/AhnSang0915/">AhnSang0915</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      11 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/python-basic39">
                <div class="post-card-image" style="background-image: url(/assets/built/images/python-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/python-basic39">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">Python - Python 코루틴 사용하기</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>Python Python 기본 Python 숫자 계산하기 Python 변수 만들기 Python 출력 방법 Python 불과 비교, 논리 연산자 Python 문자열 사용하기 Python 리스트와 튜플 사용하기 Python 시퀀스 자료형 활용하기 Python 딕셔너리 사용하기 Python if</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="AhnSang0915" />
                        
                        <span class="post-card-author">
                            <a href="/author/AhnSang0915/">AhnSang0915</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      12 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://AhnSang0915.github.io/">
            
            <span>My Coding Practice Gym</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Python - Python 데코레이터 사용하기</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Python+-+Python+%EB%8D%B0%EC%BD%94%EB%A0%88%EC%9D%B4%ED%84%B0+%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&amp;url=https://AhnSang0915.github.iopython-basic40"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://AhnSang0915.github.iopython-basic40"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://AhnSang0915.github.io/">My Coding Practice Gym</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Search My Coding Practice Gym</h1>
                <p class="subscribe-overlay-description">
                블로그 포스팅 검색 </p>
                <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" 
               id="searchtext" type="text" name="searchtext"  
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
            </div>
    </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
